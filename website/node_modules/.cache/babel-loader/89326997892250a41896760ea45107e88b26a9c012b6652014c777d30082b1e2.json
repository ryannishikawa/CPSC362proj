{"ast":null,"code":"var _jsxFileName = \"/home/ryannishikawa/CPSC362proj/website/src/pages/register.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n//****************************************************************************************************************************\n//Program name: \"register.js\".  This program controls the sign up page of our web app. Copyright (C)  *\n//2024 Ryan Nishikawa                                                                                                        *\n//This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License  *\n//version 3 as published by the Free Software Foundation.                                                                    *\n//This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied         *\n//warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.     *\n//A copy of the GNU General Public License v3 is available here:  <https://www.gnu.org/licenses/>.                           *\n//****************************************************************************************************************************\n\n//=======1=========2=========3=========4=========5=========6=========7=========8=========9=========0=========1=========2=========3**\n//\n//Author information\n//  Author names: Ryan Nishikawa, \n//  Author emails: ryannishikawa48@csu.fullerton.edu, \n//  Course ID: CPSC362\n//\n//Program information\n//  Program name: Task manager\n//  Date of last update: February 15, 2024\n//  Programming language(s): JavaScript, HTML, CSS\n//  Files in this program: App.js, login.js, register.js, home.js, etc...\n//  \n//  OS of the computer where the program was developed: Ubuntu 22.04.3 LTS\n//  OS of the computer where the program was tested: Ubuntu 22.04.3 LTS\n//  Status: WIP\n//\n//References for this program\n//  https://www.youtube.com/watch?v=psU13XU1gDY&list=LL&index=3&t=796s&ab_channel=CodeWithViju\n//\n//Purpose\n//  Allow users to create an account for the website\n//\n//This file\n//   File name: register.js\n//   Date of last update: February 15, 2024\n//   Languages: JavaScript, HTML, CSS\n//\n//References for this file\n//   https://www.youtube.com/watch?v=psU13XU1gDY&list=LL&index=3&t=796s&ab_channel=CodeWithViju\n//\n//=======1=========2=========3=========4=========5=========6=========7=========8=========9=========0=========1=========2**\n//\n//\n//\n//\n//===== Begin code area ================================================================================================\n\nimport React, { useState } from 'react';\nimport '../css/login.css';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useAuth } from '../hooks/AuthProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RegisterButton() {\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    type: \"submit\",\n    className: \"Button\",\n    children: \"Create Account\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_c = RegisterButton;\nfunction ToLogin() {\n  _s();\n  const navigate = useNavigate();\n\n  // Take to login page if user already has an account.\n  const ToSignIn = e => {\n    e.preventDefault();\n    navigate(\"/login\");\n  };\n\n  // Component returned here.\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      onClick: ToSignIn,\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          children: /*#__PURE__*/_jsxDEV(\"u\", {\n            children: \"Sign in here!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 85\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 82\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 79\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 38\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n}\n_s(ToLogin, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c2 = ToLogin;\nfunction RegisterForm() {\n  _s2();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [pass, setPassword] = useState('');\n  const auth = useAuth();\n\n  //sends user to home page on submit\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Attempt to send a register request to the Express server.\n    try {\n      // Create the new user\n      const regRes = await axios.post('http://localhost:5000/api/users/register', {\n        name,\n        email,\n        pass\n      });\n\n      // Find the new user and get their UID\n      const userObjRes = await axios.post('http://localhost:5000/api/users/find', {\n        email,\n        pass\n      });\n      const uid = userObjRes.data.user.uid;\n\n      // Add the welcome task\n      const description = 'Welcome to our app! Time to get productive and start adding tasks!';\n      const newTaskRes = await axios.post('http://localhost:5000/api/tasks/add', {\n        uid,\n        description\n      });\n\n      // Login\n      auth.loginAction(email, pass);\n    } catch (err) {\n      alert(err);\n    }\n  };\n\n  // Returns the register form component here.\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Register-Form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Welcome\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        title: \"name\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        placeholder: \"first last\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        title: \"email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        placeholder: \"you@email.domain\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        title: \"password\",\n        value: pass,\n        onChange: e => setPassword(e.target.value),\n        placeholder: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(RegisterButton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(ToLogin, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 12\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, this);\n}\n_s2(RegisterForm, \"IFRMdHJ8meaDbIhk8sUnB3+Lxzk=\", false, function () {\n  return [useAuth];\n});\n_c3 = RegisterForm;\nexport default function RegisterPage() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Register-Background\",\n    children: /*#__PURE__*/_jsxDEV(RegisterForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 9\n  }, this);\n}\n_c4 = RegisterPage;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"RegisterButton\");\n$RefreshReg$(_c2, \"ToLogin\");\n$RefreshReg$(_c3, \"RegisterForm\");\n$RefreshReg$(_c4, \"RegisterPage\");","map":{"version":3,"names":["React","useState","useNavigate","axios","useAuth","jsxDEV","_jsxDEV","RegisterButton","type","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","ToLogin","_s","navigate","ToSignIn","e","preventDefault","onClick","_c2","RegisterForm","_s2","name","setName","email","setEmail","pass","setPassword","auth","handleSubmit","regRes","post","userObjRes","uid","data","user","description","newTaskRes","loginAction","err","alert","onSubmit","title","value","onChange","target","placeholder","_c3","RegisterPage","_c4","$RefreshReg$"],"sources":["/home/ryannishikawa/CPSC362proj/website/src/pages/register.js"],"sourcesContent":["//****************************************************************************************************************************\n//Program name: \"register.js\".  This program controls the sign up page of our web app. Copyright (C)  *\n//2024 Ryan Nishikawa                                                                                                        *\n//This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License  *\n//version 3 as published by the Free Software Foundation.                                                                    *\n//This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied         *\n//warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.     *\n//A copy of the GNU General Public License v3 is available here:  <https://www.gnu.org/licenses/>.                           *\n//****************************************************************************************************************************\n\n\n//=======1=========2=========3=========4=========5=========6=========7=========8=========9=========0=========1=========2=========3**\n//\n//Author information\n//  Author names: Ryan Nishikawa, \n//  Author emails: ryannishikawa48@csu.fullerton.edu, \n//  Course ID: CPSC362\n//\n//Program information\n//  Program name: Task manager\n//  Date of last update: February 15, 2024\n//  Programming language(s): JavaScript, HTML, CSS\n//  Files in this program: App.js, login.js, register.js, home.js, etc...\n//  \n//  OS of the computer where the program was developed: Ubuntu 22.04.3 LTS\n//  OS of the computer where the program was tested: Ubuntu 22.04.3 LTS\n//  Status: WIP\n//\n//References for this program\n//  https://www.youtube.com/watch?v=psU13XU1gDY&list=LL&index=3&t=796s&ab_channel=CodeWithViju\n//\n//Purpose\n//  Allow users to create an account for the website\n//\n//This file\n//   File name: register.js\n//   Date of last update: February 15, 2024\n//   Languages: JavaScript, HTML, CSS\n//\n//References for this file\n//   https://www.youtube.com/watch?v=psU13XU1gDY&list=LL&index=3&t=796s&ab_channel=CodeWithViju\n//\n//=======1=========2=========3=========4=========5=========6=========7=========8=========9=========0=========1=========2**\n//\n//\n//\n//\n//===== Begin code area ================================================================================================\n\nimport React, {useState} from 'react';\nimport '../css/login.css';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useAuth } from '../hooks/AuthProvider';\n\nfunction RegisterButton() {\n    return(\n        <button type='submit' className='Button'>Create Account</button>\n    );\n}\n\nfunction ToLogin() {\n\n    const navigate = useNavigate();\n    \n    // Take to login page if user already has an account.\n    const ToSignIn = (e) => {\n        e.preventDefault();\n        navigate(\"/login\");\n    };\n\n    // Component returned here.\n    return(\n        <p>\n            Already have an account? <button type='submit' onClick={ToSignIn}><b><i><u>Sign in here!</u></i></b></button>\n        </p>\n    );\n}\n\nfunction RegisterForm() {\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [pass, setPassword] = useState('');\n\n    const auth = useAuth();\n\n    //sends user to home page on submit\n    const handleSubmit = async(e) => {\n        e.preventDefault();\n\n        // Attempt to send a register request to the Express server.\n        try {\n\n            // Create the new user\n            const regRes = await axios.post('http://localhost:5000/api/users/register', {name, email, pass});\n\n            // Find the new user and get their UID\n            const userObjRes = await axios.post('http://localhost:5000/api/users/find', {email, pass});\n            const uid = userObjRes.data.user.uid;\n\n            // Add the welcome task\n            const description = 'Welcome to our app! Time to get productive and start adding tasks!';\n            const newTaskRes = await axios.post('http://localhost:5000/api/tasks/add', {uid, description});\n\n            // Login\n            auth.loginAction(email, pass);\n\n        } catch (err) {\n            alert(err);\n        }\n    };\n\n    // Returns the register form component here.\n    return(\n        <div className=\"Register-Form\">\n            <h1>Welcome</h1>\n           <form onSubmit={handleSubmit}>\n                <input type=\"text\" title=\"name\" value={name} onChange={e => setName(e.target.value)} placeholder='first last' />\n                <input type=\"text\" title=\"email\" value={email} onChange={e => setEmail(e.target.value)} placeholder='you@email.domain' />\n                <input type=\"password\" title=\"password\" value={pass} onChange={e => setPassword(e.target.value)} placeholder='password' />\n               <RegisterButton />\n               <ToLogin />\n            </form>\n        </div>\n    );\n}\n\nexport default function RegisterPage() {\n    return (\n        <div className='Register-Background'>\n            <RegisterForm />\n        </div>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}